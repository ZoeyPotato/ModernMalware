using UnityEngine;
using System.Collections;
using System.Collections.Generic;

public class OutlineBlockScript : MonoBehaviour
{

    public static List<OutlineBlockScript> outlineBlocks = null;
    public bool isABlockInPlace = false;
	// Use this for initialization
	void Start ()
    {
        if (outlineBlocks == null)
        {
            outlineBlocks = new List<OutlineBlockScript>();
        }
        outlineBlocks.Add(this);
	}

    void OnDestroy()
    {
        outlineBlocks.Remove(this);
    }

	// Update is called once per frame
	void Update ()
    {
	
	}

    void OnTriggerEnter2D(Collider2D other)
    {

    }

    void OnTriggerStay2D(Collider2D other)
    {
        if (!isABlockInPlace && name == "OutlineBlock")
        {
            // Lock other block
            if (Mathf.Abs(Mathf.Abs(other.gameObject.transform.position.x) - Mathf.Abs(transform.position.x)) < 0.001f &&
                Mathf.Abs(Mathf.Abs(other.gameObject.transform.position.y) - Mathf.Abs(transform.position.y)) < 0.001f)
            {
                other.gameObject.collider2D.enabled = false;
                isABlockInPlace = true;
            }
        }
    }
}
