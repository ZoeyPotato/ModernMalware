//This class handles the 'gateway' functionality of the game. When the player
//collides over this object, level2 is loaded and started.

using UnityEngine;
using System.Collections;


public class Gateway : MonoBehaviour 
{
	public string LevelName = "Scene2";
	public GameObject transition = null;

	void Start () 
    {        
        //hard code spawning position to (20,7)
        Vector3 spawningPos = new Vector3(20, 7, 0);
        transform.position = spawningPos;
	}
		
	void Update () 
    {
	
	}

    private void OnTriggerEnter2D(Collider2D other)
    {
        // Only care if colliding with player
        if (other.gameObject.name == "Player")
        {
			float endTransition = Time.timeSinceLevelLoad + 5;
			FirstGameManager.TheGameState.SetCurrentLevel("Beat1");
			FirstGameManager.TheGameState.PrintCurrentLevel();
			Application.LoadLevel("Beat1");
			/*while (Time.timeSinceLevelLoad < endTransition) {
			}
			FirstGameManager.TheGameState.SetCurrentLevel(LevelName);
			FirstGameManager.TheGameState.PrintCurrentLevel();
			Application.LoadLevel(LevelName);
			 */
        }
    }
}
