using UnityEngine;
using System.Collections;

public class QuestTarget : MonoBehaviour
{
    public GameObject associatedNpc;
    public int associatedQuestId;
	// Use this for initialization
	void Start ()
    {
	}
	
	// Update is called once per frame
	void Update ()
    {
	
	}

    void OnDestroy()
    {
        //Debug.Log("I AM DESTROYED");
        for (int i = 0; i < Player.Instance.quests.Count; ++i)
        {
            if (Player.Instance.quests[i].npc == associatedNpc &&
                Player.Instance.quests[i].questId == associatedQuestId)
            {
                Player.Instance.quests[i].count++;
                Debug.Log("Killed objective");
                Debug.Log("Have killed " + Player.Instance.quests[i].count + " of this objective.");
            }
        }
    }
}
